!function(a){"use strict";var b={gid:"adgroupid",cid:"adcreativeid",act:"action",lpg:"landingpage",wmk:"watermark"},c=function(a){var d={};for(var e in a){var f,g=a[e];if(g.constructor===Object&&"area"!==e&&"mon"!==e&&"offer"!==e&&"app"!==e&&"cus"!==e){f=c(g);for(var h in f)d[h]=f[h]}else d[e]=g}for(var i in b)i in d&&(d[b[i]]=d[i],delete d[i]);return d.ext={},d.distype&&(d.ext.distype=d.distype),d.appid&&(d.ext.appid=d.appid),d.mon&&d.mon.imp&&d.mon.imp[0]&&(d.impressiontrackurl=d.mon.imp[0]),d},d=function(a){var b,d=[];return a.forEach(function(a){b=c(a),d.push(b)}),d};a.Adapter=d}(this),function(){"undefined"!=typeof Adapter&&"ad"in ad_datas[0]&&(ad_datas=Adapter(ad_datas));var _displayType=function(){return SDKParam.displaytype||ad_datas[0].ext.displaytype||5}(),sdk={addcount:1,totcount:ad_datas.length,isnewsdk:function(){return 1==sdk.compareversion(SDKParam.sdkv,"5.1.0")?!0:!1},isSlotSDK:function(){return sdk.compareversion(SDKParam.sdkv,"6.3.6")>=0?!0:!1},getE:function(a){return document.querySelectorAll(a)},iScroll:null,container:document.querySelector("#container"),listwarp:document.querySelector("#listwarp"),close:document.querySelector("#close"),feedback:document.querySelector("#feedback"),mblogo:document.querySelector("#foot img"),sdkv:document.querySelector("#sdkv"),flinks:document.querySelectorAll("#feedback a"),loadding:document.querySelector(".loadding"),init:function(){window.innerHeight>460&&(sdk.container.style.height=window.innerHeight*(640/window.innerWidth)+"px");for(var a in SDKParam)-1!=SDKParam[a].search(/{#(.)*#}/)&&(SDKParam[a]="");1==SDKParam.hasStaBar&&SDKParam.mt&&SDKParam.mt.indexOf("iPad")<0&&(document.getElementById("title").style.paddingTop="20px"),sdk.repairSDK(),sdk.close.addEventListener("click",onCLoseWindow,!1),sdk.sdkv.innerHTML=SDKParam.sdkv,"1"==SDKParam.jt_orientation&&(SDKParam.showfeedback=!1),"true"!==SDKParam.showfeedback&&sdk.hide_fb(),Array.prototype.sort.call(ad_datas,function(){return Math.random()>.5?-1:1}),sdk.createScroll(),SDKParam.showfeedback&&sdk.renderfeed(),sdk.aduio=sdk.c("audio"),sdk.aduio.src=murl,sdk.addlist(sdk.addcount,sdk.trackv8()),sdk.toggle(),sdk.isnewsdk()&&""!==SDKParam.jt_navbackgroundcolor&&sdk.createThemeColors(),sdk.setThemePic(),sdk.loadding.style.display="none",sdk.container.style.display="block"},zoom:function(){var a=sdk.c("meta"),b=sdk.c("meta");a.name=b.name="viewport",a.content="width=device-width,maximum-scale=1,minimum-scale=0.5,user-scalable=no,",b.content="width=device-width;maximum-scale=1;minimum-scale=0.5;user-scalable=no;";var c=window.innerWidth/640;c>=1?c=1:.5>=c&&(c=.5),a.content+="initial-scale="+c,b.content+="initial-scale="+c;var d=document.getElementsByTagName("head")[0];d.appendChild(a),d.appendChild(b)},toggle:function(){var a=["gray","green","blue","red"],b=a[SDKParam.themecolor];sdk.container.className=b,sdk.mblogo.src="gray"==b?glogourl:logourl},hide_fb:function(){sdk.feedback.style.display="none",sdk.listwarp.style.bottom="55px"},trackv8:function(){var a=new Date,b=SDKParam.trackurl+"ver="+encodeURIComponent(SDKParam.jiantrackver)+"&affiliate="+encodeURIComponent(SDKParam.jiantrackaffiliate)+"&pid="+encodeURIComponent(SDKParam.pid)+"&time="+sdk.timestr(a)+"&uid="+encodeURIComponent(SDKParam.uid)+"&pf="+encodeURIComponent(platform)+"&sv="+encodeURIComponent(SDKParam.sdkv)+"&cdata="+encodeURIComponent(SDKParam.cdata)+"&mid="+encodeURIComponent(SDKParam.mid)+"&loc="+encodeURIComponent(SDKParam.loc)+"&oid="+encodeURIComponent(SDKParam.oid)+"&ich="+encodeURIComponent(SDKParam.ich)+"&uidt="+encodeURIComponent(SDKParam.uidt)+"&type="+encodeURIComponent(SDKParam.jiantracktype),c="jianv8url="+encodeURIComponent(b);return c},renderfeed:function(){if(SDKParam.emailaddress){var a="action=7&emailaddress="+encodeURIComponent(SDKParam.emailaddress)+"&emailtitle="+encodeURIComponent(SDKParam.emailtitle)+"&emailcontent="+encodeURIComponent(SDKParam.emailcontent);sdk.flinks[0].addEventListener("click",function(){sdk.newSDKclick(2,a)},!1)}else sdk.flinks[0].className="disnb";if(SDKParam.reviewurl){var b="action=4&lpg="+encodeURIComponent(SDKParam.reviewurl);sdk.flinks[1].addEventListener("click",function(){sdk.newSDKclick(2,b)},!1)}else sdk.flinks[1].className="disnb";if(SDKParam.blogurl){var c="action=4&lpg="+encodeURIComponent(SDKParam.blogurl);sdk.flinks[2].addEventListener("click",function(){sdk.newSDKclick(2,c)},!1)}else sdk.flinks[2].className="disnb";if(SDKParam.companyurl){var d="action=4&lpg="+encodeURIComponent(SDKParam.companyurl);sdk.flinks[3].addEventListener("click",function(){sdk.newSDKclick(2,d)},!1)}else sdk.flinks[3].className="disnb"},addlist:function(a,b){a=ad_datas.length>6?6:ad_datas.length;for(var c=sdk.isSlotSDK(),d=[],e=0;a>e;e++){var f=ad_datas.pop(),g=new Date,h="";h+=SDKParam.trackurl+"ver="+encodeURIComponent(c?SDKParam.impressiontrackversSDK6:SDKParam.impressiontrackver)+"&token="+encodeURIComponent(f.token)+"&agid="+encodeURIComponent(f.adgroupid)+"&adid="+encodeURIComponent(f.adcreativeid),h+=c?"&sltkn="+encodeURIComponent(SDKParam.sltkn):"&pid="+encodeURIComponent(SDKParam.pid),h+="&time="+sdk.timestr(g)+"&uid="+encodeURIComponent(SDKParam.uid)+"&sdkv="+encodeURIComponent(SDKParam.sdkv)+"&cdata="+encodeURIComponent(SDKParam.cdata)+"&mid="+encodeURIComponent(SDKParam.mid)+"&loc="+encodeURIComponent(SDKParam.loc)+"&oid="+encodeURIComponent(SDKParam.oid)+"&cn="+encodeURIComponent(SDKParam.ich)+"&uidt="+encodeURIComponent(SDKParam.uidt)+"&oudid="+encodeURIComponent(SDKParam.oudid)+"&dist="+encodeURIComponent(_displayType),c&&(h+="&cache=0",h+="&pid="+encodeURIComponent(SDKParam.pid)),d[e]=h;var i="action="+encodeURIComponent(f.action)+"&adgroupid="+encodeURIComponent(f.adgroupid)+"&adid="+encodeURIComponent(f.adcreativeid)+"&lpg="+encodeURIComponent(f.landingpage)+"&token="+encodeURIComponent(f.token);f.ext&&f.ext.app&&f.ext.app.appleid&&(i+="&appid="+encodeURIComponent(f.ext.app.appleid)),f.ext&&f.appid&&(i+="&appid="+encodeURIComponent(f.appid)),f.tip&&!f.downbtn&&(i+="&tip="+encodeURIComponent(f.tip)),f.packagename&&(i+="&packagename="+encodeURIComponent(f.packagename)),f.version&&(i+="&version="+encodeURIComponent(f.version)),f.activityname&&(i+="&activityname="+encodeURIComponent(f.activityname)),f.smscontent&&(i+="&smscontent="+encodeURIComponent(f.smscontent));var j=document.querySelector("#list"),k=sdk.c("li"),l=sdk.c("img"),m=sdk.c("h4"),n=sdk.c("p"),o=sdk.c("p"),p=sdk.c("div"),q=f.app?f.app:f.ext.app;if(function(a){k.addEventListener("click",function(){sdk.newSDKclick(2,a)},!1)}(i),sdk.isnewsdk()&&""!==SDKParam.jt_appbackgroundcolor){var r=sdk.hex2hsl(SDKParam.jt_appbackgroundcolor),s=100*r[2]+10,t=100*r[2]-10;t=0>t?0:t,s=s>100?100:s,k.style.borderTopColor="hsl("+r[0]+","+100*r[1]+"%,"+s+"%)",k.style.borderBottomColor="hsl("+r[0]+","+100*r[1]+"%,"+t+"%)",k.style.backgroundColor="hsl("+r[0]+","+100*r[1]+"%,"+100*r[2]+"%)",document.querySelector("#listwarp").style.backgroundColor="hsl("+r[0]+","+100*r[1]+"%,"+100*r[2]+"%)"}if(!sdk.isnewsdk()||""==SDKParam.jt_downbutton){var u=[downgreyurl,downgreenurl,downblueurl,downredurl],v=u[SDKParam.themecolor];k.style.backgroundImage="url("+v+")"}l.setAttribute("rel",q.icon),m.innerHTML=q.name,n.innerHTML=q.desc,o.innerHTML="版本V<span></span> | <span></span>MB | <span></span>";var w=o.getElementsByTagName("span");w[0].innerHTML=q.ver,w[1].innerHTML=Math.round(10*q.size/1024/1024)/10,w[2].innerHTML="0.00"==q.price?"免费":q.price,p.appendChild(l),k.appendChild(p),k.appendChild(m),k.appendChild(n),k.appendChild(o),j.appendChild(k)}setTimeout(function(){for(var a=document.querySelectorAll("#list img"),b=0,c=a.length;c>b;b++)a[b].src=a[b].getAttribute("rel")},10);for(var x="",e=0,y=d.length;y>e;e++)x+="&url"+e+"="+encodeURIComponent(d[e]);if(x=void 0==b?x.substr(1):b+x,onTrack(x),0==ad_datas.length){var z=document.querySelector("#pull");z.style.display="none"}setTimeout(function(){sdk.iScroll.refresh()},66)},newSDKclick:function(eventtype,tag){var tagjson=eval('({"'+tag.replace(/=/g,'":"').replace(/&/g,'","')+'"})'),now=new Date,uidt=0,isSlotSDK=sdk.isSlotSDK(),trackurl=SDKParam.trackurl+"ver="+encodeURIComponent(isSlotSDK?SDKParam.clicktrackverSDK6:SDKParam.clicktrackver)+"&event="+encodeURIComponent(eventtype)+"&token="+encodeURIComponent(tagjson.token?tagjson.token:"")+"&agid="+encodeURIComponent(tagjson.adgroupid?tagjson.adgroupid:"")+"&adid="+encodeURIComponent(tagjson.adid?tagjson.adid:"");trackurl+=isSlotSDK?"&sltkn="+encodeURIComponent(SDKParam.sltkn):"&pid="+encodeURIComponent(SDKParam.pid),trackurl+="&time="+sdk.timestr(now)+"&uid="+encodeURIComponent(SDKParam.uid)+"&tag=&sdkv="+encodeURIComponent(SDKParam.sdkv)+"&cdata="+encodeURIComponent(SDKParam.cdata)+"&mid="+encodeURIComponent(SDKParam.mid)+"&loc="+encodeURIComponent(SDKParam.loc)+"&oid="+encodeURIComponent(SDKParam.oid)+"&cn="+encodeURIComponent(SDKParam.ich)+"&uidt="+encodeURIComponent(SDKParam.uidt)+"&oudid="+encodeURIComponent(SDKParam.oudid)+"&dist="+encodeURIComponent(_displayType),isSlotSDK&&(trackurl+="&cache=0",trackurl+="&pid="+encodeURIComponent(SDKParam.pid)),trackurl="url="+encodeURIComponent(trackurl),onTrack(trackurl),setTimeout(function(){onClickAd(tag)},100)},setThemePic:function(){sdk.isnewsdk()&&""!=SDKParam.jt_return||(sdk.setbackgroundurl("h3#title a.close",iconurl),sdk.setbackgroundurl(".gray h3#title a.close",greyiconurl)),sdk.setbackgroundurl("#feedback a",iconurl),sdk.setbackgroundurl(".gray #feedback a",greyiconurl)},setbackgroundurl:function(a,b){for(var c=document.querySelectorAll(a),d=0;d<c.length;d++)c[d].style.backgroundImage='url("'+b+'")'},c:function(a){return document.createElement(a)},compareversion:function(a,b){arrv1=a.split("."),arrv2=b.split(".");for(var c=0,d=arrv1.length,e=arrv2.length;d>c&&e>c;c++)if(arrv1[c]!=arrv2[c])return arrv1[c]>arrv2[c]?1:-1;return d>e?1:e>d?-1:0},timestr:function(a){var b=""+a.getUTCFullYear();return b+=a.getUTCMonth()<9?"0"+(a.getUTCMonth()+1):a.getUTCMonth()+1,b+=a.getUTCDate()<10?"0"+a.getUTCDate():a.getUTCDate(),b+=a.getUTCHours()<10?"0"+a.getUTCHours():a.getUTCHours(),b+=a.getUTCMinutes()<10?"0"+a.getUTCMinutes():a.getUTCMinutes(),b+=a.getUTCSeconds()<10?"0"+a.getUTCSeconds():a.getUTCSeconds()},createScroll:function(){{var a=document.querySelector("#pull"),b=a.querySelector(".pullUpLabel");a.offsetHeight}sdk.iScroll=new iScroll("listwarp",{onRefresh:function(){a.className="",b.innerHTML="上拉即可加载"},onScrollMove:function(){ad_datas.length>0&&(this.y<this.maxScrollY-12&&!a.className.match("flip")?(a.className="flip",b.innerHTML="松开立即加载",sdk.aduio.play()):this.y>this.maxScrollY+12&&a.className.match("flip")&&(a.className="",b.innerHTML="上拉即可加载",sdk.aduio.play()))},onScrollEnd:function(){a.className.match("flip")?(a.className="loading",b.innerHTML="加载中...",sdk.pullUpAction()):(a.className="",b.innerHTML="上拉即可加载")}})},pullUpAction:function(){sdk.addcount++;var a=ad_datas.length<=6?6*(sdk.addcount-1)+ad_datas.length:6*sdk.addcount;console.log(a),setTimeout(function(){var b="http://trc.adsage.com/trc/sdk/x.gif?ver=jian.1.0",c=new Date;b+="&time="+sdk.timestr(c),b+="&pid="+encodeURIComponent(SDKParam.pid),b+="&uid="+encodeURIComponent(SDKParam.uid),b+="&adv="+a,b="pulluptrack="+encodeURIComponent(b),sdk.addlist(sdk.addcount,b)},1e3)},hex2hsl:function(a){var b=sdk.hex2rgb(a),c=sdk.rgb2hsl(b.red,b.green,b.blue);return c},hex2rgb:function(a){if("#"==a[0]&&(a=a.substr(1)),3==a.length){var b=a;a="",b=/^([a-f0-9])([a-f0-9])([a-f0-9])$/i.exec(b).slice(1);for(var c=0;3>c;c++)a+=b[c]+b[c]}var d=/^([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(a).slice(1);return{red:parseInt(d[0],16),green:parseInt(d[1],16),blue:parseInt(d[2],16)}},rgb2hsl:function(a,b,c){a/=255,b/=255,c/=255;var d,e,f=Math.max(a,b,c),g=Math.min(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return[360*d,e,h]},createThemeColors:function(){var a=sdk.hex2hsl(SDKParam.jt_navbackgroundcolor),b=[],c=[],d=100*a[2];b.push(d+30),b.push(d+15),b.push(d-10),b.push(d-20),b.push(d+15);for(var e=0,f=b.length;f>e;e++)b[e]=b[e]<0?0:b[e],b[e]=b[e]>100?100:b[e],c[e]="hsl("+a[0]+","+100*a[1]+"%,"+b[e]+"%)";var g=document.querySelector("#title"),h=document.querySelector("#foot"),i=document.querySelector("#feedback"),j=g.style,k=h.style;j.borderTopColor=c[0],j.borderBottomColor=c[3],j.backgroundColor=c[2],j.backgroundImage="-webkit-linear-gradient(top, "+c[1]+", "+c[2]+")",k.borderTopColor=c[0],k.borderBottomColor=c[3],k.backgroundColor=c[2],k.backgroundImage="-webkit-linear-gradient(top, "+c[1]+", "+c[2]+")",i.style.backgroundColor=c[4]},repairSDK:function(){sdk.compareversion(SDKParam.sdkv,"5.0.0")>=0&&sdk.compareversion(SDKParam.sdkv,"5.1.1")<=0&&(SDKParam.uid=decodeURIComponent(SDKParam.uid))}};addEventListener("load",sdk.init,!1)}();